{"version":3,"names":["React","useEffect","useMemo","useState","Image","Text","TextInput","TouchableOpacity","View","styles","ic_eye","require","ic_uneye","ic_close","defaultProps","style","value","showIcon","currency","numeric","TextInputComponent","props","fontFamily","inputStyle","iconStyle","labelStyle","placeholderStyle","textErrorStyle","label","secureTextEntry","placeholderTextColor","placeholder","textError","focusColor","onFocus","onBlur","onChangeText","_value","renderLeftIcon","renderRightIcon","text","setText","isFocus","setIsFocus","textEntry","setTextEntry","formatNumeric","num","values","toString","replace","reConvertNumeric","x","s","split","join","onChange","onChangeTextEntry","_renderRightIcon","length","icon","font","onFocusCustom","e","onBlurCustom","colorFocus","borderBottomColor","borderTopColor","borderLeftColor","borderRightColor","styleLable","top","color","position","container","textInput","wrapInput","input"],"sources":["index.tsx"],"sourcesContent":["/* eslint-disable no-shadow */\nimport React, { useEffect, useMemo, useState } from 'react';\nimport {\n  Image,\n  StyleProp,\n  Text,\n  TextInput,\n  TextStyle,\n  TouchableOpacity,\n  View,\n} from 'react-native';\nimport { styles } from './styles';\nimport type { InputProps } from './model';\n\nconst ic_eye = require('./icon/eye.png');\nconst ic_uneye = require('./icon/uneye.png');\nconst ic_close = require('./icon/close.png');\n\nconst defaultProps = {\n  style: {},\n  value: '',\n  showIcon: true,\n  currency: false,\n  numeric: false,\n};\n\nconst TextInputComponent: InputProps = (props) => {\n  const {\n    fontFamily,\n    style,\n    inputStyle,\n    iconStyle,\n    labelStyle,\n    placeholderStyle = {},\n    textErrorStyle,\n    value,\n    label,\n    secureTextEntry,\n    placeholderTextColor = '#000',\n    placeholder = '',\n    showIcon,\n    numeric,\n    textError,\n    focusColor,\n    onFocus,\n    onBlur,\n    onChangeText = (_value: string) => {},\n    renderLeftIcon,\n    renderRightIcon,\n  } = props;\n\n  const [text, setText] = useState<string>('');\n  const [isFocus, setIsFocus] = useState<boolean>(false);\n  const [textEntry, setTextEntry] = useState<boolean>(\n    secureTextEntry ? true : false\n  );\n\n  useEffect(() => {\n    if (value) {\n      if (numeric) {\n        setText(formatNumeric(value));\n      } else {\n        setText(value);\n      }\n    } else {\n      setText('');\n    }\n  }, [numeric, value]);\n\n  const formatNumeric = (num: string) => {\n    const values = num.toString().replace(/\\D/g, '');\n    return values.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.');\n  };\n\n  const reConvertNumeric = (x: string) => {\n    let s;\n    s = x.split('.');\n    s = s.join('');\n    return s;\n  };\n\n  const onChange = (text: string) => {\n    if (numeric) {\n      setText(formatNumeric(text));\n      onChangeText(reConvertNumeric(text));\n    } else {\n      setText(text);\n      onChangeText(text);\n    }\n  };\n\n  const onChangeTextEntry = () => {\n    setTextEntry(!textEntry);\n  };\n\n  const _renderRightIcon = () => {\n    if (showIcon) {\n      if (renderRightIcon) {\n        return renderRightIcon();\n      }\n      if (text.length > 0) {\n        if (secureTextEntry) {\n          return (\n            <TouchableOpacity onPress={onChangeTextEntry}>\n              <Image\n                source={textEntry ? ic_eye : ic_uneye}\n                style={[styles.icon, iconStyle]}\n              />\n            </TouchableOpacity>\n          );\n        } else {\n          return (\n            <TouchableOpacity onPress={() => onChange('')}>\n              <Image source={ic_close} style={[styles.icon, iconStyle]} />\n            </TouchableOpacity>\n          );\n        }\n      } else {\n        return null;\n      }\n    }\n    return null;\n  };\n\n  const font = () => {\n    if (fontFamily) {\n      return {\n        fontFamily: fontFamily,\n      };\n    } else {\n      return {};\n    }\n  };\n\n  const onFocusCustom = (e: any) => {\n    setIsFocus(true);\n    if (onFocus) {\n      onFocus(e);\n    }\n  };\n\n  const onBlurCustom = (e: any) => {\n    setIsFocus(false);\n    if (onBlur) {\n      onBlur(e);\n    }\n  };\n\n  const colorFocus = useMemo(() => {\n    if (isFocus && focusColor) {\n      return {\n        borderBottomColor: focusColor,\n        borderTopColor: focusColor,\n        borderLeftColor: focusColor,\n        borderRightColor: focusColor,\n      };\n    } else {\n      return {};\n    }\n  }, [focusColor, isFocus]);\n\n  const styleLable: StyleProp<TextStyle> = useMemo(() => {\n    if (isFocus || (text.length > 0 && label)) {\n      const style: any = labelStyle;\n      return {\n        top: 5,\n        color: isFocus ? focusColor : null,\n        ...style,\n      };\n    } else {\n      const style: any = placeholderStyle;\n      return {\n        position: 'absolute',\n        ...style,\n      };\n    }\n  }, [isFocus, text.length, label, focusColor, labelStyle, placeholderStyle]);\n\n  return (\n    <>\n      <View style={[styles.container, style, colorFocus]}>\n        <View style={[styles.textInput]}>\n          {renderLeftIcon?.()}\n          <View style={styles.wrapInput}>\n            {label ? (\n              <Text style={[styles.label, styleLable]}>{label}</Text>\n            ) : null}\n            <TextInput\n              secureTextEntry={textEntry}\n              {...props}\n              style={[styles.input, inputStyle, font()]}\n              value={text}\n              placeholder={isFocus || !label ? placeholder : ''}\n              placeholderTextColor={placeholderTextColor}\n              onChangeText={onChange}\n              onFocus={onFocusCustom}\n              onBlur={onBlurCustom}\n            />\n          </View>\n          {_renderRightIcon()}\n        </View>\n      </View>\n      {textError ? (\n        <Text style={[styles.textError, textErrorStyle]}>{textError}</Text>\n      ) : null}\n    </>\n  );\n};\n\nTextInputComponent.defaultProps = defaultProps;\n\nexport default TextInputComponent;\n"],"mappings":"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"}