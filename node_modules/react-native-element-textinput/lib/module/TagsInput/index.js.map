{"version":3,"names":["React","useCallback","useEffect","useMemo","useState","Text","TextInput","TouchableOpacity","View","styles","defaultProps","style","value","TagInputComponent","props","fontFamily","inputStyle","labelStyle","placeholderStyle","textErrorStyle","label","placeholderTextColor","placeholder","textError","focusColor","data","tagsStyle","tagsTextStyle","onFocus","onBlur","onChangeText","_value","onChangeValue","renderTagsItem","text","setText","hashtag","setHashtag","isFocus","setIsFocus","onChange","font","onFocusCustom","e","onBlurCustom","onRemoveItem","index","editable","undefined","array","splice","onSubmitEdit","length","push","onBackspace","pop","_renderTags","map","selectedItem","selectedTextItem","_renderItemSelected","wrapSelectedItem","input","nativeEvent","key","colorFocus","borderBottomColor","borderTopColor","borderLeftColor","borderRightColor","styleLable","top","color","position","container","textInput","wrapInput"],"sources":["index.tsx"],"sourcesContent":["/* eslint-disable no-shadow */\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport {\n  StyleProp,\n  Text,\n  TextInput,\n  TextStyle,\n  TouchableOpacity,\n  View,\n} from 'react-native';\nimport { styles } from './styles';\nimport type { TagsInputProps } from './model';\n\nconst defaultProps = {\n  style: {},\n  value: '',\n};\n\nconst TagInputComponent: TagsInputProps = (props) => {\n  const {\n    fontFamily,\n    style,\n    inputStyle,\n    labelStyle,\n    placeholderStyle = {},\n    textErrorStyle,\n    label,\n    placeholderTextColor = '#000',\n    placeholder = '',\n    textError,\n    focusColor,\n    data = [],\n    tagsStyle,\n    tagsTextStyle,\n    onFocus,\n    onBlur,\n    onChangeText = (_value: string) => {},\n    onChangeValue = (_value: string[]) => {},\n    renderTagsItem,\n  } = props;\n\n  const [text, setText] = useState<string>('');\n  const [hashtag, setHashtag] = useState<string[] | null>(null);\n  const [isFocus, setIsFocus] = useState<boolean>(false);\n\n  const onChange = (text: string) => {\n    setText(text);\n    onChangeText(text);\n  };\n\n  const font = useCallback(() => {\n    if (fontFamily) {\n      return {\n        fontFamily: fontFamily,\n      };\n    } else {\n      return {};\n    }\n  }, [fontFamily]);\n\n  const onFocusCustom = (e: any) => {\n    setIsFocus(true);\n    if (onFocus) {\n      onFocus(e);\n    }\n  };\n\n  const onBlurCustom = (e: any) => {\n    setIsFocus(false);\n    if (onBlur) {\n      onBlur(e);\n    }\n  };\n\n  const onRemoveItem = useCallback(\n    (index: number) => {\n      if (hashtag) {\n        if (props.editable === undefined || props.editable) {\n          var array = [...hashtag];\n          array.splice(index, 1);\n          setHashtag(array);\n          onChangeValue(array);\n        }\n      }\n    },\n    [hashtag, onChangeValue, props.editable]\n  );\n\n  useEffect(() => {\n    if (data) {\n      setHashtag(data);\n    } else {\n      setHashtag(null);\n    }\n  }, [data]);\n\n  const onSubmitEdit = () => {\n    if (hashtag && text.length > 0) {\n      hashtag.push(text);\n      setText('');\n      onChangeValue(hashtag);\n    }\n  };\n\n  const onBackspace = () => {\n    if (text.length === 0 && hashtag) {\n      var array = [...hashtag];\n      array.pop();\n      setHashtag(array);\n      onChangeValue(array);\n    }\n  };\n\n  const _renderTags = useCallback(() => {\n    if (hashtag) {\n      return hashtag.map((e, index) => {\n        if (renderTagsItem) {\n          return (\n            <TouchableOpacity key={index}>\n              {renderTagsItem(e, () => {\n                onRemoveItem(index);\n              })}\n            </TouchableOpacity>\n          );\n        }\n        return (\n          <TouchableOpacity\n            key={index}\n            style={[styles.selectedItem, tagsStyle]}\n            onPress={() => {\n              onRemoveItem(index);\n            }}\n          >\n            <Text style={[styles.selectedTextItem, tagsTextStyle, font()]}>\n              {e}\n            </Text>\n            <Text style={[styles.selectedTextItem, tagsTextStyle, font()]}>\n              â“§\n            </Text>\n          </TouchableOpacity>\n        );\n      });\n    }\n    return null;\n  }, [font, hashtag, onRemoveItem, renderTagsItem, tagsStyle, tagsTextStyle]);\n\n  const _renderItemSelected = () => {\n    return (\n      <View style={styles.wrapSelectedItem}>\n        {_renderTags()}\n        <TextInput\n          {...props}\n          style={[styles.input, inputStyle, font()]}\n          value={text}\n          placeholder={placeholder}\n          placeholderTextColor={placeholderTextColor}\n          onChangeText={onChange}\n          onFocus={onFocusCustom}\n          onBlur={onBlurCustom}\n          onSubmitEditing={onSubmitEdit}\n          onKeyPress={({ nativeEvent }) => {\n            if (nativeEvent.key === 'Backspace') {\n              onBackspace();\n            }\n          }}\n        />\n      </View>\n    );\n  };\n\n  const colorFocus = useMemo(() => {\n    if (isFocus && focusColor) {\n      return {\n        borderBottomColor: focusColor,\n        borderTopColor: focusColor,\n        borderLeftColor: focusColor,\n        borderRightColor: focusColor,\n      };\n    } else {\n      return {};\n    }\n  }, [focusColor, isFocus]);\n\n  const styleLable: StyleProp<TextStyle> = useMemo(() => {\n    if (isFocus || (hashtag && hashtag.length > 0 && label)) {\n      const style: any = labelStyle;\n      return {\n        top: 5,\n        color: focusColor,\n        ...style,\n      };\n    } else {\n      const style: any = placeholderStyle;\n      return {\n        position: 'absolute',\n        ...style,\n      };\n    }\n  }, [isFocus, hashtag, label, focusColor, labelStyle, placeholderStyle]);\n\n  return (\n    <>\n      <View style={[styles.container, style, colorFocus]}>\n        <View style={styles.textInput}>\n          <View style={styles.wrapInput}>\n            {label ? (\n              <Text style={[styles.label, styleLable]}>{label}</Text>\n            ) : null}\n            {_renderItemSelected()}\n          </View>\n        </View>\n      </View>\n      {textError ? (\n        <Text style={[styles.textError, textErrorStyle]}>{textError}</Text>\n      ) : null}\n    </>\n  );\n};\n\nTagInputComponent.defaultProps = defaultProps;\n\nexport default TagInputComponent;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,SAA7B,EAAwCC,OAAxC,EAAiDC,QAAjD,QAAiE,OAAjE;AACA,SAEEC,IAFF,EAGEC,SAHF,EAKEC,gBALF,EAMEC,IANF,QAOO,cAPP;AAQA,SAASC,MAAT,QAAuB,UAAvB;AAGA,MAAMC,YAAY,GAAG;EACnBC,KAAK,EAAE,EADY;EAEnBC,KAAK,EAAE;AAFY,CAArB;;AAKA,MAAMC,iBAAiC,GAAIC,KAAD,IAAW;EACnD,MAAM;IACJC,UADI;IAEJJ,KAFI;IAGJK,UAHI;IAIJC,UAJI;IAKJC,gBAAgB,GAAG,EALf;IAMJC,cANI;IAOJC,KAPI;IAQJC,oBAAoB,GAAG,MARnB;IASJC,WAAW,GAAG,EATV;IAUJC,SAVI;IAWJC,UAXI;IAYJC,IAAI,GAAG,EAZH;IAaJC,SAbI;IAcJC,aAdI;IAeJC,OAfI;IAgBJC,MAhBI;IAiBJC,YAAY,GAAIC,MAAD,IAAoB,CAAE,CAjBjC;IAkBJC,aAAa,GAAID,MAAD,IAAsB,CAAE,CAlBpC;IAmBJE;EAnBI,IAoBFnB,KApBJ;EAsBA,MAAM,CAACoB,IAAD,EAAOC,OAAP,IAAkB/B,QAAQ,CAAS,EAAT,CAAhC;EACA,MAAM,CAACgC,OAAD,EAAUC,UAAV,IAAwBjC,QAAQ,CAAkB,IAAlB,CAAtC;EACA,MAAM,CAACkC,OAAD,EAAUC,UAAV,IAAwBnC,QAAQ,CAAU,KAAV,CAAtC;;EAEA,MAAMoC,QAAQ,GAAIN,IAAD,IAAkB;IACjCC,OAAO,CAACD,IAAD,CAAP;IACAJ,YAAY,CAACI,IAAD,CAAZ;EACD,CAHD;;EAKA,MAAMO,IAAI,GAAGxC,WAAW,CAAC,MAAM;IAC7B,IAAIc,UAAJ,EAAgB;MACd,OAAO;QACLA,UAAU,EAAEA;MADP,CAAP;IAGD,CAJD,MAIO;MACL,OAAO,EAAP;IACD;EACF,CARuB,EAQrB,CAACA,UAAD,CARqB,CAAxB;;EAUA,MAAM2B,aAAa,GAAIC,CAAD,IAAY;IAChCJ,UAAU,CAAC,IAAD,CAAV;;IACA,IAAIX,OAAJ,EAAa;MACXA,OAAO,CAACe,CAAD,CAAP;IACD;EACF,CALD;;EAOA,MAAMC,YAAY,GAAID,CAAD,IAAY;IAC/BJ,UAAU,CAAC,KAAD,CAAV;;IACA,IAAIV,MAAJ,EAAY;MACVA,MAAM,CAACc,CAAD,CAAN;IACD;EACF,CALD;;EAOA,MAAME,YAAY,GAAG5C,WAAW,CAC7B6C,KAAD,IAAmB;IACjB,IAAIV,OAAJ,EAAa;MACX,IAAItB,KAAK,CAACiC,QAAN,KAAmBC,SAAnB,IAAgClC,KAAK,CAACiC,QAA1C,EAAoD;QAClD,IAAIE,KAAK,GAAG,CAAC,GAAGb,OAAJ,CAAZ;QACAa,KAAK,CAACC,MAAN,CAAaJ,KAAb,EAAoB,CAApB;QACAT,UAAU,CAACY,KAAD,CAAV;QACAjB,aAAa,CAACiB,KAAD,CAAb;MACD;IACF;EACF,CAV6B,EAW9B,CAACb,OAAD,EAAUJ,aAAV,EAAyBlB,KAAK,CAACiC,QAA/B,CAX8B,CAAhC;EAcA7C,SAAS,CAAC,MAAM;IACd,IAAIuB,IAAJ,EAAU;MACRY,UAAU,CAACZ,IAAD,CAAV;IACD,CAFD,MAEO;MACLY,UAAU,CAAC,IAAD,CAAV;IACD;EACF,CANQ,EAMN,CAACZ,IAAD,CANM,CAAT;;EAQA,MAAM0B,YAAY,GAAG,MAAM;IACzB,IAAIf,OAAO,IAAIF,IAAI,CAACkB,MAAL,GAAc,CAA7B,EAAgC;MAC9BhB,OAAO,CAACiB,IAAR,CAAanB,IAAb;MACAC,OAAO,CAAC,EAAD,CAAP;MACAH,aAAa,CAACI,OAAD,CAAb;IACD;EACF,CAND;;EAQA,MAAMkB,WAAW,GAAG,MAAM;IACxB,IAAIpB,IAAI,CAACkB,MAAL,KAAgB,CAAhB,IAAqBhB,OAAzB,EAAkC;MAChC,IAAIa,KAAK,GAAG,CAAC,GAAGb,OAAJ,CAAZ;MACAa,KAAK,CAACM,GAAN;MACAlB,UAAU,CAACY,KAAD,CAAV;MACAjB,aAAa,CAACiB,KAAD,CAAb;IACD;EACF,CAPD;;EASA,MAAMO,WAAW,GAAGvD,WAAW,CAAC,MAAM;IACpC,IAAImC,OAAJ,EAAa;MACX,OAAOA,OAAO,CAACqB,GAAR,CAAY,CAACd,CAAD,EAAIG,KAAJ,KAAc;QAC/B,IAAIb,cAAJ,EAAoB;UAClB,oBACE,oBAAC,gBAAD;YAAkB,GAAG,EAAEa;UAAvB,GACGb,cAAc,CAACU,CAAD,EAAI,MAAM;YACvBE,YAAY,CAACC,KAAD,CAAZ;UACD,CAFc,CADjB,CADF;QAOD;;QACD,oBACE,oBAAC,gBAAD;UACE,GAAG,EAAEA,KADP;UAEE,KAAK,EAAE,CAACrC,MAAM,CAACiD,YAAR,EAAsBhC,SAAtB,CAFT;UAGE,OAAO,EAAE,MAAM;YACbmB,YAAY,CAACC,KAAD,CAAZ;UACD;QALH,gBAOE,oBAAC,IAAD;UAAM,KAAK,EAAE,CAACrC,MAAM,CAACkD,gBAAR,EAA0BhC,aAA1B,EAAyCc,IAAI,EAA7C;QAAb,GACGE,CADH,CAPF,eAUE,oBAAC,IAAD;UAAM,KAAK,EAAE,CAAClC,MAAM,CAACkD,gBAAR,EAA0BhC,aAA1B,EAAyCc,IAAI,EAA7C;QAAb,YAVF,CADF;MAgBD,CA1BM,CAAP;IA2BD;;IACD,OAAO,IAAP;EACD,CA/B8B,EA+B5B,CAACA,IAAD,EAAOL,OAAP,EAAgBS,YAAhB,EAA8BZ,cAA9B,EAA8CP,SAA9C,EAAyDC,aAAzD,CA/B4B,CAA/B;;EAiCA,MAAMiC,mBAAmB,GAAG,MAAM;IAChC,oBACE,oBAAC,IAAD;MAAM,KAAK,EAAEnD,MAAM,CAACoD;IAApB,GACGL,WAAW,EADd,eAEE,oBAAC,SAAD,eACM1C,KADN;MAEE,KAAK,EAAE,CAACL,MAAM,CAACqD,KAAR,EAAe9C,UAAf,EAA2ByB,IAAI,EAA/B,CAFT;MAGE,KAAK,EAAEP,IAHT;MAIE,WAAW,EAAEZ,WAJf;MAKE,oBAAoB,EAAED,oBALxB;MAME,YAAY,EAAEmB,QANhB;MAOE,OAAO,EAAEE,aAPX;MAQE,MAAM,EAAEE,YARV;MASE,eAAe,EAAEO,YATnB;MAUE,UAAU,EAAE,QAAqB;QAAA,IAApB;UAAEY;QAAF,CAAoB;;QAC/B,IAAIA,WAAW,CAACC,GAAZ,KAAoB,WAAxB,EAAqC;UACnCV,WAAW;QACZ;MACF;IAdH,GAFF,CADF;EAqBD,CAtBD;;EAwBA,MAAMW,UAAU,GAAG9D,OAAO,CAAC,MAAM;IAC/B,IAAImC,OAAO,IAAId,UAAf,EAA2B;MACzB,OAAO;QACL0C,iBAAiB,EAAE1C,UADd;QAEL2C,cAAc,EAAE3C,UAFX;QAGL4C,eAAe,EAAE5C,UAHZ;QAIL6C,gBAAgB,EAAE7C;MAJb,CAAP;IAMD,CAPD,MAOO;MACL,OAAO,EAAP;IACD;EACF,CAXyB,EAWvB,CAACA,UAAD,EAAac,OAAb,CAXuB,CAA1B;EAaA,MAAMgC,UAAgC,GAAGnE,OAAO,CAAC,MAAM;IACrD,IAAImC,OAAO,IAAKF,OAAO,IAAIA,OAAO,CAACgB,MAAR,GAAiB,CAA5B,IAAiChC,KAAjD,EAAyD;MACvD,MAAMT,KAAU,GAAGM,UAAnB;MACA,OAAO;QACLsD,GAAG,EAAE,CADA;QAELC,KAAK,EAAEhD,UAFF;QAGL,GAAGb;MAHE,CAAP;IAKD,CAPD,MAOO;MACL,MAAMA,KAAU,GAAGO,gBAAnB;MACA,OAAO;QACLuD,QAAQ,EAAE,UADL;QAEL,GAAG9D;MAFE,CAAP;IAID;EACF,CAf+C,EAe7C,CAAC2B,OAAD,EAAUF,OAAV,EAAmBhB,KAAnB,EAA0BI,UAA1B,EAAsCP,UAAtC,EAAkDC,gBAAlD,CAf6C,CAAhD;EAiBA,oBACE,uDACE,oBAAC,IAAD;IAAM,KAAK,EAAE,CAACT,MAAM,CAACiE,SAAR,EAAmB/D,KAAnB,EAA0BsD,UAA1B;EAAb,gBACE,oBAAC,IAAD;IAAM,KAAK,EAAExD,MAAM,CAACkE;EAApB,gBACE,oBAAC,IAAD;IAAM,KAAK,EAAElE,MAAM,CAACmE;EAApB,GACGxD,KAAK,gBACJ,oBAAC,IAAD;IAAM,KAAK,EAAE,CAACX,MAAM,CAACW,KAAR,EAAekD,UAAf;EAAb,GAA0ClD,KAA1C,CADI,GAEF,IAHN,EAIGwC,mBAAmB,EAJtB,CADF,CADF,CADF,EAWGrC,SAAS,gBACR,oBAAC,IAAD;IAAM,KAAK,EAAE,CAACd,MAAM,CAACc,SAAR,EAAmBJ,cAAnB;EAAb,GAAkDI,SAAlD,CADQ,GAEN,IAbN,CADF;AAiBD,CAvMD;;AAyMAV,iBAAiB,CAACH,YAAlB,GAAiCA,YAAjC;AAEA,eAAeG,iBAAf"}