{"version":3,"names":["React","useCallback","useEffect","useMemo","useState","Image","Text","TextInput","TouchableOpacity","View","styles","ic_close","require","defaultProps","style","value","showIcon","HashtagInputComponent","props","fontFamily","inputStyle","iconStyle","labelStyle","placeholderStyle","textErrorStyle","label","placeholderTextColor","placeholder","textError","focusColor","data","hashtagStyle","hashtagTextStyle","onFocus","onBlur","onChangeText","_value","renderLeftIcon","renderRightIcon","onChangeValue","renderHashtagItem","text","setText","hashtag","setHashtag","isFocus","setIsFocus","onChange","_renderRightIcon","length","icon","font","onFocusCustom","e","onBlurCustom","onRemoveItem","index","editable","undefined","array","splice","onSubmitEdit","push","_renderItemSelected","wrapSelectItem","map","selectedItem","selectedTextItem","colorFocus","borderBottomColor","borderTopColor","borderLeftColor","borderRightColor","styleLable","top","color","position","container","textInput","wrapInput","input"],"sources":["index.tsx"],"sourcesContent":["/* eslint-disable no-shadow */\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport {\n  Image,\n  StyleProp,\n  Text,\n  TextInput,\n  TextStyle,\n  TouchableOpacity,\n  View,\n} from 'react-native';\nimport { styles } from './styles';\nimport type { HashtagProps } from './model';\n\nconst ic_close = require('./icon/close.png');\n\nconst defaultProps = {\n  style: {},\n  value: '',\n  showIcon: true,\n};\n\nconst HashtagInputComponent: HashtagProps = (props) => {\n  const {\n    fontFamily,\n    style,\n    inputStyle,\n    iconStyle,\n    labelStyle,\n    placeholderStyle = {},\n    textErrorStyle,\n    label,\n    placeholderTextColor = '#000',\n    placeholder = '',\n    showIcon,\n    textError,\n    focusColor,\n    data = [],\n    hashtagStyle,\n    hashtagTextStyle,\n    onFocus,\n    onBlur,\n    onChangeText = (_value: string) => {},\n    renderLeftIcon,\n    renderRightIcon,\n    onChangeValue = (_value: string[]) => {},\n    renderHashtagItem,\n  } = props;\n\n  const [text, setText] = useState<string>('');\n  const [hashtag, setHashtag] = useState<string[] | null>(null);\n  const [isFocus, setIsFocus] = useState<boolean>(false);\n\n  const onChange = (text: string) => {\n    setText(text);\n    onChangeText(text);\n  };\n\n  const _renderRightIcon = () => {\n    if (showIcon) {\n      if (renderRightIcon) {\n        return renderRightIcon();\n      }\n      if (text.length > 0) {\n        return (\n          <TouchableOpacity onPress={() => onChange('')}>\n            <Image source={ic_close} style={[styles.icon, iconStyle]} />\n          </TouchableOpacity>\n        );\n      } else {\n        return null;\n      }\n    }\n    return null;\n  };\n\n  const font = useCallback(() => {\n    if (fontFamily) {\n      return {\n        fontFamily: fontFamily,\n      };\n    } else {\n      return {};\n    }\n  }, [fontFamily]);\n\n  const onFocusCustom = (e: any) => {\n    setIsFocus(true);\n    if (onFocus) {\n      onFocus(e);\n    }\n  };\n\n  const onBlurCustom = (e: any) => {\n    setIsFocus(false);\n    if (onBlur) {\n      onBlur(e);\n    }\n  };\n\n  const onRemoveItem = useCallback(\n    (index: number) => {\n      if (hashtag) {\n        if (props.editable === undefined || props.editable) {\n          var array = [...hashtag];\n          array.splice(index, 1);\n          setHashtag(array);\n          onChangeValue(array);\n        }\n      }\n    },\n    [hashtag, onChangeValue, props.editable]\n  );\n\n  useEffect(() => {\n    if (data) {\n      setHashtag(data);\n    } else {\n      setHashtag(null);\n    }\n  }, [data]);\n\n  const onSubmitEdit = () => {\n    if (hashtag && text.length > 0) {\n      hashtag.push(text);\n      setText('');\n      onChangeValue(hashtag);\n    }\n  };\n\n  const _renderItemSelected = useCallback(() => {\n    if (hashtag && hashtag.length > 0) {\n      return (\n        <View style={styles.wrapSelectItem}>\n          {hashtag.map((e, index) => {\n            if (renderHashtagItem) {\n              return (\n                <TouchableOpacity key={index}>\n                  {renderHashtagItem(e, () => {\n                    onRemoveItem(index);\n                  })}\n                </TouchableOpacity>\n              );\n            }\n            return (\n              <TouchableOpacity\n                key={index}\n                style={[styles.selectedItem, hashtagStyle]}\n                onPress={() => {\n                  onRemoveItem(index);\n                }}\n              >\n                <Text\n                  style={[styles.selectedTextItem, hashtagTextStyle, font()]}\n                >\n                  {e}\n                </Text>\n                <Text\n                  style={[styles.selectedTextItem, hashtagTextStyle, font()]}\n                >\n                  â“§\n                </Text>\n              </TouchableOpacity>\n            );\n          })}\n        </View>\n      );\n    }\n    return null;\n  }, [\n    font,\n    hashtag,\n    hashtagStyle,\n    hashtagTextStyle,\n    onRemoveItem,\n    renderHashtagItem,\n  ]);\n\n  const colorFocus = useMemo(() => {\n    if (isFocus && focusColor) {\n      return {\n        borderBottomColor: focusColor,\n        borderTopColor: focusColor,\n        borderLeftColor: focusColor,\n        borderRightColor: focusColor,\n      };\n    } else {\n      return {};\n    }\n  }, [focusColor, isFocus]);\n\n  const styleLable: StyleProp<TextStyle> = useMemo(() => {\n    if (isFocus || (text.length > 0 && label)) {\n      const style: any = labelStyle;\n      return {\n        top: 5,\n        color: isFocus ? focusColor : null,\n        ...style,\n      };\n    } else {\n      const style: any = placeholderStyle;\n      return {\n        position: 'absolute',\n        ...style,\n      };\n    }\n  }, [isFocus, text.length, label, focusColor, labelStyle, placeholderStyle]);\n\n  return (\n    <>\n      <View style={[styles.container, style, colorFocus]}>\n        <View style={styles.textInput}>\n          {renderLeftIcon?.()}\n          <View style={styles.wrapInput}>\n            {label ? (\n              <Text style={[styles.label, styleLable]}>{label}</Text>\n            ) : null}\n            <TextInput\n              {...props}\n              style={[styles.input, inputStyle, font()]}\n              value={text}\n              placeholder={isFocus || !label ? placeholder : ''}\n              placeholderTextColor={placeholderTextColor}\n              onChangeText={onChange}\n              onFocus={onFocusCustom}\n              onBlur={onBlurCustom}\n              onSubmitEditing={onSubmitEdit}\n            />\n          </View>\n          {_renderRightIcon()}\n        </View>\n      </View>\n      {_renderItemSelected()}\n      {textError ? (\n        <Text style={[styles.textError, textErrorStyle]}>{textError}</Text>\n      ) : null}\n    </>\n  );\n};\n\nHashtagInputComponent.defaultProps = defaultProps;\n\nexport default HashtagInputComponent;\n"],"mappings":"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"}