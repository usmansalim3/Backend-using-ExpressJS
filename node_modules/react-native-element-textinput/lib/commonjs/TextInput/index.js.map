{"version":3,"names":["ic_eye","require","ic_uneye","ic_close","defaultProps","style","value","showIcon","currency","numeric","TextInputComponent","props","fontFamily","inputStyle","iconStyle","labelStyle","placeholderStyle","textErrorStyle","label","secureTextEntry","placeholderTextColor","placeholder","textError","focusColor","onFocus","onBlur","onChangeText","_value","renderLeftIcon","renderRightIcon","text","setText","useState","isFocus","setIsFocus","textEntry","setTextEntry","useEffect","formatNumeric","num","values","toString","replace","reConvertNumeric","x","s","split","join","onChange","onChangeTextEntry","_renderRightIcon","length","styles","icon","font","onFocusCustom","e","onBlurCustom","colorFocus","useMemo","borderBottomColor","borderTopColor","borderLeftColor","borderRightColor","styleLable","top","color","position","container","textInput","wrapInput","input"],"sources":["index.tsx"],"sourcesContent":["/* eslint-disable no-shadow */\nimport React, { useEffect, useMemo, useState } from 'react';\nimport {\n  Image,\n  StyleProp,\n  Text,\n  TextInput,\n  TextStyle,\n  TouchableOpacity,\n  View,\n} from 'react-native';\nimport { styles } from './styles';\nimport type { InputProps } from './model';\n\nconst ic_eye = require('./icon/eye.png');\nconst ic_uneye = require('./icon/uneye.png');\nconst ic_close = require('./icon/close.png');\n\nconst defaultProps = {\n  style: {},\n  value: '',\n  showIcon: true,\n  currency: false,\n  numeric: false,\n};\n\nconst TextInputComponent: InputProps = (props) => {\n  const {\n    fontFamily,\n    style,\n    inputStyle,\n    iconStyle,\n    labelStyle,\n    placeholderStyle = {},\n    textErrorStyle,\n    value,\n    label,\n    secureTextEntry,\n    placeholderTextColor = '#000',\n    placeholder = '',\n    showIcon,\n    numeric,\n    textError,\n    focusColor,\n    onFocus,\n    onBlur,\n    onChangeText = (_value: string) => {},\n    renderLeftIcon,\n    renderRightIcon,\n  } = props;\n\n  const [text, setText] = useState<string>('');\n  const [isFocus, setIsFocus] = useState<boolean>(false);\n  const [textEntry, setTextEntry] = useState<boolean>(\n    secureTextEntry ? true : false\n  );\n\n  useEffect(() => {\n    if (value) {\n      if (numeric) {\n        setText(formatNumeric(value));\n      } else {\n        setText(value);\n      }\n    } else {\n      setText('');\n    }\n  }, [numeric, value]);\n\n  const formatNumeric = (num: string) => {\n    const values = num.toString().replace(/\\D/g, '');\n    return values.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.');\n  };\n\n  const reConvertNumeric = (x: string) => {\n    let s;\n    s = x.split('.');\n    s = s.join('');\n    return s;\n  };\n\n  const onChange = (text: string) => {\n    if (numeric) {\n      setText(formatNumeric(text));\n      onChangeText(reConvertNumeric(text));\n    } else {\n      setText(text);\n      onChangeText(text);\n    }\n  };\n\n  const onChangeTextEntry = () => {\n    setTextEntry(!textEntry);\n  };\n\n  const _renderRightIcon = () => {\n    if (showIcon) {\n      if (renderRightIcon) {\n        return renderRightIcon();\n      }\n      if (text.length > 0) {\n        if (secureTextEntry) {\n          return (\n            <TouchableOpacity onPress={onChangeTextEntry}>\n              <Image\n                source={textEntry ? ic_eye : ic_uneye}\n                style={[styles.icon, iconStyle]}\n              />\n            </TouchableOpacity>\n          );\n        } else {\n          return (\n            <TouchableOpacity onPress={() => onChange('')}>\n              <Image source={ic_close} style={[styles.icon, iconStyle]} />\n            </TouchableOpacity>\n          );\n        }\n      } else {\n        return null;\n      }\n    }\n    return null;\n  };\n\n  const font = () => {\n    if (fontFamily) {\n      return {\n        fontFamily: fontFamily,\n      };\n    } else {\n      return {};\n    }\n  };\n\n  const onFocusCustom = (e: any) => {\n    setIsFocus(true);\n    if (onFocus) {\n      onFocus(e);\n    }\n  };\n\n  const onBlurCustom = (e: any) => {\n    setIsFocus(false);\n    if (onBlur) {\n      onBlur(e);\n    }\n  };\n\n  const colorFocus = useMemo(() => {\n    if (isFocus && focusColor) {\n      return {\n        borderBottomColor: focusColor,\n        borderTopColor: focusColor,\n        borderLeftColor: focusColor,\n        borderRightColor: focusColor,\n      };\n    } else {\n      return {};\n    }\n  }, [focusColor, isFocus]);\n\n  const styleLable: StyleProp<TextStyle> = useMemo(() => {\n    if (isFocus || (text.length > 0 && label)) {\n      const style: any = labelStyle;\n      return {\n        top: 5,\n        color: isFocus ? focusColor : null,\n        ...style,\n      };\n    } else {\n      const style: any = placeholderStyle;\n      return {\n        position: 'absolute',\n        ...style,\n      };\n    }\n  }, [isFocus, text.length, label, focusColor, labelStyle, placeholderStyle]);\n\n  return (\n    <>\n      <View style={[styles.container, style, colorFocus]}>\n        <View style={[styles.textInput]}>\n          {renderLeftIcon?.()}\n          <View style={styles.wrapInput}>\n            {label ? (\n              <Text style={[styles.label, styleLable]}>{label}</Text>\n            ) : null}\n            <TextInput\n              secureTextEntry={textEntry}\n              {...props}\n              style={[styles.input, inputStyle, font()]}\n              value={text}\n              placeholder={isFocus || !label ? placeholder : ''}\n              placeholderTextColor={placeholderTextColor}\n              onChangeText={onChange}\n              onFocus={onFocusCustom}\n              onBlur={onBlurCustom}\n            />\n          </View>\n          {_renderRightIcon()}\n        </View>\n      </View>\n      {textError ? (\n        <Text style={[styles.textError, textErrorStyle]}>{textError}</Text>\n      ) : null}\n    </>\n  );\n};\n\nTextInputComponent.defaultProps = defaultProps;\n\nexport default TextInputComponent;\n"],"mappings":"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"}